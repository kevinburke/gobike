<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>GoBike Status</title>
    <link rel="stylesheet" href="/static/bootstrap.min.css">
    <link rel="stylesheet" href="/static/style.css">
  </head>
  <body>
    <main role="main" class="container">
      <div class="row">
        <div class="col-md-8">
          <h1 class="display-4">Ford GoBike Metrics</h1>
          <ul class="nav nav-pills flex-column flex-sm-row">
            <li class="nav-item">
              <a class="nav-link " href="/">Bay Area</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="/oakland/">Oakland</a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="/sf/">San Francisco</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/sj/">San Jose</a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="/berkeley/">Berkeley</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="/emeryville/">Emeryville</span></a>
            </li>
          </ul>
        </div>
      </div>
      <br />
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="col-md-12">
              Trips per week: 2548
              <div id="placeholder" class="chart">
              </div>
            </div>
            <div class="col-md-12">
              Number of stations, last week: 46
              <div id="placeholder-2" class="chart">
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <h4>Most Popular Stations</h4>
          <ul>
            <li>San Jose Diridon Station (177)</li>
            <li>San Pedro Square (99)</li>
            <li>San Fernando St at 4th St (99)</li>
            <li>The Alameda at Bush St (96)</li>
            <li>Julian St at The Alameda (93)</li>
            <li>Ryland Park (92)</li>
            <li>Paseo De San Antonio at 2nd St (88)</li>
            <li>5th St at Virginia St (88)</li>
            <li>Almaden Blvd at San Fernando St (70)</li>
            <li>San Salvador St at 9th St (66)</li>
            </ul>
        </div>
      </div>
      <br />
      <div class="row">
        <div class="col-md-8">
          Bikes ridden last week: 381
          <div id="placeholder-3" class="chart">
          </div>
        </div>
      </div>
      <br />
      <div class="row">
        <div class="col-md-8">
          Trips per bike per week: 6.7
          <div id="placeholder-4" class="chart">
          </div>
        </div>
      </div>
      <br />
      <br />
      <div class="row">
        <div class="col-6">
          <p>This website is not affiliated with GoBike, Motivate, the
          MTC, or any of the listed cities. All use is subject to the <a
          href="https://assets.fordgobike.com/data-license-agreement.html">Motiv
          ate Data License Agreement.</a></p>
          <p>Created by <a href="https://burke.services">Kevin Burke</a> and <a href="http://kyleconroy.com/">Kyle Conroy</a>. <a href="https://github.com/kevinburke/gobike">View the source code</a> or <a href="https://github.com/kevinburke/gobike/issues">contribute!</a></p>
        </div>
      </div>
    </main>

    <script type="text/javascript" src="/static/jquery.min.js"></script>
    <script type="text/javascript" src="/static/flot.min.js"></script>
    <script type="text/javascript" src="/static/flot.time.min.js"></script>
    <script>
      var plotOptions = {
        xaxis: { mode: "time" },
        legend: {position: "nw"},
        grid: {
          hoverable: true,
          borderWidth: 0,
        },
      };
      var color = '#002267';
      var tripsPerWeek = [[1499583600000,1],[1500188400000,285],[1500793200000,532],[1501398000000,534],[1502002800000,619],[1502607600000,440],[1503212400000,531],[1503817200000,545],[1504422000000,466],[1505026800000,626],[1505631600000,1004],[1506236400000,730],[1506841200000,838],[1507446000000,721],[1508050800000,758],[1508655600000,977],[1509260400000,952],[1509865200000,982],[1510473600000,1008],[1511078400000,1017],[1511683200000,1087],[1512288000000,1199],[1512892800000,1024],[1513497600000,820],[1514102400000,521],[1514707200000,526],[1515312000000,545],[1515916800000,699],[1516521600000,794],[1517126400000,1162],[1517731200000,1403],[1518336000000,1445],[1518940800000,1208],[1519545600000,1162],[1520150400000,1724],[1520755200000,1467],[1521356400000,1571],[1521961200000,1476],[1522566000000,1918],[1523170800000,1891],[1523775600000,1785],[1524380400000,1917],[1524985200000,1905],[1525590000000,2061],[1526194800000,1936],[1526799600000,1705],[1527404400000,1538],[1528009200000,2003],[1528614000000,1861],[1529218800000,2473],[1529823600000,2274],[1530428400000,2231],[1531033200000,2310],[1531638000000,2316],[1532242800000,2548]];
      var stationsPerWeek = [[1499583600000,1],[1500188400000,22],[1500793200000,25],[1501398000000,25],[1502002800000,25],[1502607600000,25],[1503212400000,25],[1503817200000,25],[1504422000000,25],[1505026800000,27],[1505631600000,32],[1506236400000,33],[1506841200000,33],[1507446000000,33],[1508050800000,33],[1508655600000,34],[1509260400000,34],[1509865200000,37],[1510473600000,37],[1511078400000,37],[1511683200000,37],[1512288000000,38],[1512892800000,37],[1513497600000,40],[1514102400000,41],[1514707200000,39],[1515312000000,41],[1515916800000,41],[1516521600000,40],[1517126400000,41],[1517731200000,42],[1518336000000,41],[1518940800000,41],[1519545600000,42],[1520150400000,43],[1520755200000,43],[1521356400000,44],[1521961200000,42],[1522566000000,44],[1523170800000,44],[1523775600000,43],[1524380400000,43],[1524985200000,43],[1525590000000,42],[1526194800000,42],[1526799600000,42],[1527404400000,44],[1528009200000,45],[1528614000000,45],[1529218800000,45],[1529823600000,45],[1530428400000,45],[1531033200000,46],[1531638000000,45],[1532242800000,46]];
      var bikesPerWeek = [[1499583600000,1],[1500188400000,137],[1500793200000,173],[1501398000000,170],[1502002800000,183],[1502607600000,147],[1503212400000,184],[1503817200000,200],[1504422000000,171],[1505026800000,197],[1505631600000,237],[1506236400000,219],[1506841200000,237],[1507446000000,205],[1508050800000,223],[1508655600000,252],[1509260400000,251],[1509865200000,249],[1510473600000,231],[1511078400000,235],[1511683200000,227],[1512288000000,240],[1512892800000,248],[1513497600000,250],[1514102400000,215],[1514707200000,222],[1515312000000,207],[1515916800000,253],[1516521600000,248],[1517126400000,283],[1517731200000,304],[1518336000000,313],[1518940800000,289],[1519545600000,288],[1520150400000,316],[1520755200000,331],[1521356400000,326],[1521961200000,296],[1522566000000,328],[1523170800000,323],[1523775600000,310],[1524380400000,308],[1524985200000,319],[1525590000000,316],[1526194800000,306],[1526799600000,295],[1527404400000,303],[1528009200000,326],[1528614000000,392],[1529218800000,437],[1529823600000,406],[1530428400000,392],[1531033200000,386],[1531638000000,372],[1532242800000,381]];
      var tripsPerBikePerWeek = [[1499583600000,1],[1500188400000,2.0802919708029197],[1500793200000,3.0751445086705202],[1501398000000,3.1411764705882352],[1502002800000,3.3825136612021858],[1502607600000,2.993197278911565],[1503212400000,2.885869565217391],[1503817200000,2.725],[1504422000000,2.7251461988304095],[1505026800000,3.1776649746192893],[1505631600000,4.236286919831223],[1506236400000,3.3333333333333335],[1506841200000,3.5358649789029535],[1507446000000,3.5170731707317073],[1508050800000,3.399103139013453],[1508655600000,3.876984126984127],[1509260400000,3.7928286852589643],[1509865200000,3.9437751004016066],[1510473600000,4.363636363636363],[1511078400000,4.327659574468085],[1511683200000,4.788546255506608],[1512288000000,4.995833333333334],[1512892800000,4.129032258064516],[1513497600000,3.28],[1514102400000,2.4232558139534883],[1514707200000,2.369369369369369],[1515312000000,2.632850241545894],[1515916800000,2.7628458498023716],[1516521600000,3.2016129032258065],[1517126400000,4.106007067137809],[1517731200000,4.615131578947368],[1518336000000,4.616613418530352],[1518940800000,4.179930795847751],[1519545600000,4.034722222222222],[1520150400000,5.455696202531645],[1520755200000,4.43202416918429],[1521356400000,4.819018404907975],[1521961200000,4.986486486486487],[1522566000000,5.847560975609756],[1523170800000,5.854489164086687],[1523775600000,5.758064516129032],[1524380400000,6.224025974025974],[1524985200000,5.971786833855799],[1525590000000,6.522151898734177],[1526194800000,6.326797385620915],[1526799600000,5.779661016949152],[1527404400000,5.075907590759076],[1528009200000,6.144171779141105],[1528614000000,4.747448979591836],[1529218800000,5.65903890160183],[1529823600000,5.600985221674877],[1530428400000,5.691326530612245],[1531033200000,5.984455958549223],[1531638000000,6.225806451612903],[1532242800000,6.687664041994751]];
      var plotTooltip = function(event, pos, item) {
        if (item) {
          var x = item.datapoint[0].toFixed(0);
          var y = item.datapoint[1].toFixed(0);
          $("#tooltip").html(y + " " + item.series.label).css({top: item.pageY+5, left: item.pageX+5}).show();
        } else {
          $("#tooltip").hide();
        }
      };
      $.plot("#placeholder", [{color: color, data: tripsPerWeek, label: "trips"}], plotOptions);

      $("<div id='tooltip'></div>").css({
        position: "absolute",
        display: "none",
        border: "1px solid #fdd",
        padding: "2px",
        "background-color": "#fee",
        opacity: 0.80,
      }).appendTo("body");
      $("#placeholder").bind("plothover", plotTooltip);
      $.plot("#placeholder-2", [{color: color, data: stationsPerWeek, label: "stations"}], plotOptions);
      $("#placeholder-2").bind("plothover", plotTooltip);
      $.plot("#placeholder-3", [{color: color, data: bikesPerWeek, label: "bikes"}], plotOptions);
      $("#placeholder-3").bind("plothover", plotTooltip);
      $.plot("#placeholder-4", [{color: color, data: tripsPerBikePerWeek, label: "trips/bike"}], plotOptions);
      $.plot("#placeholder-4", [{color: color, data: tripsPerBikePerWeek, label: "trips/bike"}], plotOptions);
      $("#placeholder-4").bind("plothover", plotTooltip);
    </script>
  </body>
</html>
