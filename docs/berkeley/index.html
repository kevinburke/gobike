<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>GoBike Status</title>
    <link rel="stylesheet" href="/static/bootstrap.min.css">
    <link rel="stylesheet" href="/static/style.css">
  </head>
  <body>
    <main role="main" class="container">
      <div class="row">
        <div class="col-md-8">
          <h1 class="display-4">Ford GoBike Metrics</h1>
          <ul class="nav nav-pills flex-column flex-sm-row">
            <li class="nav-item">
              <a class="nav-link " href="/">Bay Area</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="/oakland/">Oakland</a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="/sf/">San Francisco</a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="/sj/">San Jose</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/berkeley/">Berkeley</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="/emeryville/">Emeryville</span></a>
            </li>
          </ul>
        </div>
      </div>
      <br />
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="col-md-12">
              Trips per week: 3863
              <div id="placeholder" class="chart">
              </div>
            </div>
            <div class="col-md-12">
              Number of stations, last week: 36
              <div id="placeholder-2" class="chart">
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <h4>Most Popular Stations</h4>
          <ul>
            <li>Bancroft Way at College Ave (346)</li>
            <li>Bancroft Way at Telegraph Ave (331)</li>
            <li>Downtown Berkeley BART (278)</li>
            <li>Haste St at College Ave (246)</li>
            <li>Ashby BART Station (246)</li>
            <li>Haste St at Telegraph Ave (213)</li>
            <li>Parker St at Fulton St (191)</li>
            <li>Hearst Ave at Euclid Ave (191)</li>
            <li>Berkeley Civic Center (174)</li>
            <li>Telegraph Ave at Ashby Ave (132)</li>
            </ul>
        </div>
      </div>
      <br />
      <div class="row">
        <div class="col-md-8">
          Bikes ridden last week: 611
          <div id="placeholder-3" class="chart">
          </div>
        </div>
      </div>
      <br />
      <div class="row">
        <div class="col-md-8">
          Trips per bike per week: 6.3
          <div id="placeholder-4" class="chart">
          </div>
        </div>
      </div>
      <br />
      <br />
      <div class="row">
        <div class="col-6">
          <p>This website is not affiliated with GoBike, Motivate, the
          MTC, or any of the listed cities. All use is subject to the <a
          href="https://assets.fordgobike.com/data-license-agreement.html">Motiv
          ate Data License Agreement.</a></p>
          <p>Created by <a href="https://burke.services">Kevin Burke</a> and <a href="http://kyleconroy.com/">Kyle Conroy</a>. <a href="https://github.com/kevinburke/gobike">View the source code</a> or <a href="https://github.com/kevinburke/gobike/issues">contribute!</a></p>
        </div>
      </div>
    </main>

    <script type="text/javascript" src="/static/jquery.min.js"></script>
    <script type="text/javascript" src="/static/flot.min.js"></script>
    <script type="text/javascript" src="/static/flot.time.min.js"></script>
    <script>
      var plotOptions = {
        xaxis: { mode: "time" },
        legend: {position: "nw"},
        grid: {
          hoverable: true,
          borderWidth: 0,
        },
      };
      var color = '#002267';
      var tripsPerWeek = [[1499583600000,137],[1500188400000,328],[1500793200000,278],[1501398000000,308],[1502002800000,372],[1502607600000,359],[1503212400000,510],[1503817200000,602],[1504422000000,648],[1505026800000,680],[1505631600000,702],[1506236400000,677],[1506841200000,654],[1507446000000,611],[1508050800000,666],[1508655600000,688],[1509260400000,746],[1509865200000,668],[1510473600000,619],[1511078400000,583],[1511683200000,855],[1512288000000,875],[1512892800000,918],[1513497600000,582],[1514102400000,404],[1514707200000,648],[1515312000000,853],[1515916800000,1103],[1516521600000,1258],[1517126400000,1638],[1517731200000,1803],[1518336000000,1776],[1518940800000,1368],[1519545600000,1329],[1520150400000,1689],[1520755200000,1313],[1521356400000,1576],[1521961200000,1497],[1522566000000,1812],[1523170800000,2202],[1523775600000,1930],[1524380400000,2144],[1524985200000,2271],[1525590000000,2470],[1526194800000,2130],[1526799600000,2141],[1527404400000,2664],[1528009200000,2958],[1528614000000,3035],[1529218800000,3334],[1529823600000,3563],[1530428400000,3441],[1531033200000,3954],[1531638000000,3845],[1532242800000,3863]];
      var stationsPerWeek = [[1499583600000,7],[1500188400000,7],[1500793200000,7],[1501398000000,8],[1502002800000,8],[1502607600000,8],[1503212400000,8],[1503817200000,9],[1504422000000,9],[1505026800000,9],[1505631600000,9],[1506236400000,9],[1506841200000,9],[1507446000000,11],[1508050800000,13],[1508655600000,13],[1509260400000,13],[1509865200000,13],[1510473600000,16],[1511078400000,18],[1511683200000,18],[1512288000000,20],[1512892800000,22],[1513497600000,23],[1514102400000,25],[1514707200000,25],[1515312000000,25],[1515916800000,25],[1516521600000,25],[1517126400000,25],[1517731200000,27],[1518336000000,27],[1518940800000,28],[1519545600000,28],[1520150400000,29],[1520755200000,31],[1521356400000,31],[1521961200000,32],[1522566000000,32],[1523170800000,32],[1523775600000,33],[1524380400000,33],[1524985200000,33],[1525590000000,33],[1526194800000,33],[1526799600000,33],[1527404400000,33],[1528009200000,33],[1528614000000,33],[1529218800000,35],[1529823600000,35],[1530428400000,35],[1531033200000,35],[1531638000000,36],[1532242800000,36]];
      var bikesPerWeek = [[1499583600000,102],[1500188400000,153],[1500793200000,135],[1501398000000,167],[1502002800000,160],[1502607600000,164],[1503212400000,178],[1503817200000,213],[1504422000000,243],[1505026800000,255],[1505631600000,257],[1506236400000,226],[1506841200000,225],[1507446000000,219],[1508050800000,245],[1508655600000,265],[1509260400000,268],[1509865200000,235],[1510473600000,258],[1511078400000,250],[1511683200000,294],[1512288000000,324],[1512892800000,343],[1513497600000,276],[1514102400000,206],[1514707200000,300],[1515312000000,357],[1515916800000,379],[1516521600000,419],[1517126400000,465],[1517731200000,482],[1518336000000,476],[1518940800000,430],[1519545600000,404],[1520150400000,496],[1520755200000,445],[1521356400000,494],[1521961200000,497],[1522566000000,508],[1523170800000,557],[1523775600000,514],[1524380400000,539],[1524985200000,540],[1525590000000,586],[1526194800000,540],[1526799600000,507],[1527404400000,588],[1528009200000,606],[1528614000000,591],[1529218800000,608],[1529823600000,616],[1530428400000,608],[1531033200000,634],[1531638000000,635],[1532242800000,611]];
      var tripsPerBikePerWeek = [[1499583600000,1.3431372549019607],[1500188400000,2.1437908496732025],[1500793200000,2.0592592592592593],[1501398000000,1.844311377245509],[1502002800000,2.325],[1502607600000,2.1890243902439024],[1503212400000,2.865168539325843],[1503817200000,2.8262910798122065],[1504422000000,2.6666666666666665],[1505026800000,2.6666666666666665],[1505631600000,2.7315175097276265],[1506236400000,2.995575221238938],[1506841200000,2.9066666666666667],[1507446000000,2.7899543378995433],[1508050800000,2.7183673469387757],[1508655600000,2.5962264150943395],[1509260400000,2.783582089552239],[1509865200000,2.842553191489362],[1510473600000,2.39922480620155],[1511078400000,2.332],[1511683200000,2.9081632653061225],[1512288000000,2.700617283950617],[1512892800000,2.676384839650146],[1513497600000,2.108695652173913],[1514102400000,1.9611650485436893],[1514707200000,2.16],[1515312000000,2.3893557422969187],[1515916800000,2.9102902374670183],[1516521600000,3.0023866348448687],[1517126400000,3.52258064516129],[1517731200000,3.740663900414938],[1518336000000,3.73109243697479],[1518940800000,3.181395348837209],[1519545600000,3.2896039603960396],[1520150400000,3.405241935483871],[1520755200000,2.950561797752809],[1521356400000,3.1902834008097165],[1521961200000,3.0120724346076457],[1522566000000,3.5669291338582676],[1523170800000,3.9533213644524237],[1523775600000,3.754863813229572],[1524380400000,3.9777365491651206],[1524985200000,4.205555555555556],[1525590000000,4.215017064846417],[1526194800000,3.9444444444444446],[1526799600000,4.222879684418146],[1527404400000,4.530612244897959],[1528009200000,4.881188118811881],[1528614000000,5.135363790186125],[1529218800000,5.483552631578948],[1529823600000,5.784090909090909],[1530428400000,5.659539473684211],[1531033200000,6.236593059936909],[1531638000000,6.05511811023622],[1532242800000,6.322422258592471]];
      var plotTooltip = function(event, pos, item) {
        if (item) {
          var x = item.datapoint[0].toFixed(0);
          var y = item.datapoint[1].toFixed(0);
          $("#tooltip").html(y + " " + item.series.label).css({top: item.pageY+5, left: item.pageX+5}).show();
        } else {
          $("#tooltip").hide();
        }
      };
      $.plot("#placeholder", [{color: color, data: tripsPerWeek, label: "trips"}], plotOptions);

      $("<div id='tooltip'></div>").css({
        position: "absolute",
        display: "none",
        border: "1px solid #fdd",
        padding: "2px",
        "background-color": "#fee",
        opacity: 0.80,
      }).appendTo("body");
      $("#placeholder").bind("plothover", plotTooltip);
      $.plot("#placeholder-2", [{color: color, data: stationsPerWeek, label: "stations"}], plotOptions);
      $("#placeholder-2").bind("plothover", plotTooltip);
      $.plot("#placeholder-3", [{color: color, data: bikesPerWeek, label: "bikes"}], plotOptions);
      $("#placeholder-3").bind("plothover", plotTooltip);
      $.plot("#placeholder-4", [{color: color, data: tripsPerBikePerWeek, label: "trips/bike"}], plotOptions);
      $.plot("#placeholder-4", [{color: color, data: tripsPerBikePerWeek, label: "trips/bike"}], plotOptions);
      $("#placeholder-4").bind("plothover", plotTooltip);
    </script>
  </body>
</html>
